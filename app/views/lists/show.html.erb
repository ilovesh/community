<% provide(:title, 'List') %>
<% provide(:background, 'no-bg') %>

<% content_for :left do %>
  <h2>List</h2>
  <div class="row-fluid">
    <div class="offset10">
      <%= render partial: 'lists/like_form', locals: { list: @list } %>
      <span class="likes-count" id="likes-count-list-<%= @list.id %>">
        <%= @list.likes.count %>
      </span>
    </div>
    <h3 class="span12"><%= @list.title %></h3>

    <div class="span12 list-show-info">
      <%= render partial: 'shared/large_gravatar', locals: { post: @list } %>
      <%= link_to @list.user.username, @list.user %>
      <span class="muted">created</span> <%= render partial: 'shared/timestamp', locals: { post: @list } %>
      <% if current_user?(@list.user) %>
        <a href="#" rel="tooltip" data-placement="top" data-html="true" title="Add course via the</br><a class='btn btn-medium btn-primary'><i class='icon-plus icon-white'></i> add to list</a></br>button on the course page.">
          add course
        </a>
        <%= link_to "edit",   edit_list_path(@list.id) %>
        <%= link_to "delete", @list,
                    method: :delete,
                    data: { confirm: "Are you sure to delete this list?" },
                    title: @list.title %>
      <% end %>
    </div>
    <% if @list.description? %>
      <p class="span12"><%= @list.description %></p>
    <% end %>
    <% if @list.tag_list.any? %>
    <div class="span12">
      <%= render partial: 'shared/tag_list', locals: { tag_list: @list.tag_list } %>
    </div>
    <% end %>
  </div>

  <% if @courses.any? %>
  <h4><%= pluralize(@courses.count, "course") %></h4>
  <ol>
    <%= render partial: 'courses/list_course_item', collection: @courses, as: :course %>
  </ol>
  <% end %>

            
<% end %>

<% content_for :right do %>
  place_holder
<% end %>